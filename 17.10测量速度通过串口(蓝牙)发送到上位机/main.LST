C51 COMPILER V9.52.0.0   MAIN                                                              04/10/2024 21:32:53 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: F:\all_for_51\keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include "reg52.h"
   2          #include "motor.h"
   3          #include "delay.h"
   4          #include "uart.h"
   5          #include "time.h"
   6          #include "stdio.h"
   7          
   8          
   9          sbit speedIO =P3^2; //å¤–éƒ¨ä¸­æ–­0
  10          unsigned int speedCnt=0;
  11          extern unsigned int speed;
  12          extern char signal;
  13          char speedMes[30];
  14          
  15          
  16          void EX0Init()
  17          {
  18   1      EX0=1; //å…è®¸ä¸­æ–­
  19   1      //EA=1; //åˆå§‹åŒ–ä¸²å£çš„æ—¶å€™å·²ç»æ‰“å¼€
  20   1      IT0=1; //é…ç½®ä¸ºä¸‹é™æ²¿è§¦å‘
  21   1      
  22   1      
  23   1      
  24   1      }
  25          
  26          void main()
  27          {
  28   1        Delay1000ms();
  29   1        Time0Init();//å®šæ—¶å™¨0çš„åˆå§‹åŒ– -- å…ˆå†™ -- ä»–çš„TMOD æ˜¯ç›´æ¥å¤åˆ¶çš„ï¼Œä¸ºäº†ä¸å½±å“åé¢çš
             -„æ“ä½œ
  30   1        UartInit();//åˆå§‹åŒ– ä¸²å£
  31   1        EX0Init(); //å¤–éƒ¨ä¸­æ–­åˆå§‹åŒ–
  32   1        
  33   1        while(1){
  34   2        if(signal){ //1så‘é€ä¸€æ¬¡ï¼Œå‘å®Œè®°å¾—å¤ä½
  35   3          sprintf(speedMes,"speed: %d cm/s",speed);//ç»„ä»¶å­—ç¬¦ä¸²
  36   3          sendString(speedMes);
  37   3          sendString("\r\n");
  38   3          signal=0;
  39   3          }
  40   2        }
  41   1      
  42   1      } 
  43          // ä»¥ä¸‹çš„å¤–éƒ¨ä¸­æ–­æˆ‘ä»¬è®¾ç½®ä¸ºä¸‹é™æ²¿è§¦å‘
  44          void speedHandler() interrupt 0 
  45          {
  46   1       speedCnt++;
  47   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =     18    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.52.0.0   MAIN                                                              04/10/2024 21:32:53 PAGE 2   

   DATA SIZE        =     32    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
