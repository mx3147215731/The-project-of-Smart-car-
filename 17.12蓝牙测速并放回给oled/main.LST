C51 COMPILER V9.52.0.0   MAIN                                                              04/10/2024 21:49:59 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: F:\all_for_51\keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include "reg52.h"
   2          #include "motor.h"
   3          #include "delay.h"
   4          #include "uart.h"
   5          #include "time.h"
   6          #include "stdio.h"
   7          #include "oled.h"
   8          
   9          
  10          sbit speedIO =P3^2; //å¤–éƒ¨ä¸­æ–­0
  11          unsigned int speedCnt=0;
  12          extern unsigned int speed;
  13          extern char signal;
  14          char speedMes[30];
  15          
  16          
  17          void EX0Init()
  18          {
  19   1      EX0=1; //å…è®¸ä¸­æ–­
  20   1      //EA=1; //åˆå§‹åŒ–ä¸²å£çš„æ—¶å€™å·²ç»æ‰“å¼€
  21   1      IT0=1; //é…ç½®ä¸ºä¸‹é™æ²¿è§¦å‘
  22   1      
  23   1      
  24   1      
  25   1      }
  26          
  27          void main()
  28          {
  29   1        Delay1000ms();
  30   1        Time0Init();//å®šæ—¶å™¨0çš„åˆå§‹åŒ– -- å…ˆå†™ -- ä»–çš„TMOD æ˜¯ç›´æ¥å¤åˆ¶çš„ï¼Œä¸ºäº†ä¸å½±å“åé¢çš
             -„æ“ä½œ
  31   1        UartInit();//åˆå§‹åŒ– ä¸²å£
  32   1        EX0Init(); //å¤–éƒ¨ä¸­æ–­åˆå§‹åŒ–
  33   1        Oled_Init(); //åˆå§‹åŒ–OLED
  34   1          Oled_Clear();
  35   1        while(1){
  36   2        if(signal){ //1så‘é€ä¸€æ¬¡ï¼Œå‘å®Œè®°å¾—å¤ä½
  37   3          sprintf(speedMes,"speed: %d cm/s",speed);//ç»„ä»¶å­—ç¬¦ä¸²
  38   3          sendString(speedMes);
  39   3          sendString("\r\n");
  40   3          signal=0;
  41   3          }
  42   2            Oled_Show_Str(2,2,speedMes);
  43   2        }
  44   1      
  45   1      } 
  46          // ä»¥ä¸‹çš„å¤–éƒ¨ä¸­æ–­æˆ‘ä»¬è®¾ç½®ä¸ºä¸‹é™æ²¿è§¦å‘
  47          void speedHandler() interrupt 0 
  48          {
  49   1       speedCnt++;
  50   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    100    ----
C51 COMPILER V9.52.0.0   MAIN                                                              04/10/2024 21:49:59 PAGE 2   

   CONSTANT SIZE    =     18    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     32    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
